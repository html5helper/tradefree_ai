app:
  description: æ–°å“å‘å¸ƒä¿¡æ¯æŸ¥è¯¢
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: æ–°å“å‘å¸ƒä¿¡æ¯æŸ¥è¯¢
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.0.14@d333909fe8d75a335b44da4b878d5120779b8703f12c21cf4730135d6864afbb
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: hjlarry/database:0.0.5@20c5020a28c47834253cddf96c954596b96fffa93062bbd801e69515c710b894
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: "æˆ‘æ˜¯ä¸€ä¸ªæ–°å“å‘å¸ƒè®°å½•çš„æŸ¥è¯¢åŠ©æ‰‹ã€‚å¯ä»¥æ”¯æŒä¸‹åˆ—é—®é¢˜çš„æŸ¥è¯¢ï¼š\n1. ä»Šå¤©å¼ ä¸‰çš„å‘å“è®°å½•/æœ¬å‘¨æ‰€æœ‰çš„å‘å“è®°å½•ï¼ˆç”¨äºæŸ¥çœ‹æ¥æºå•†å“å’Œæ–°å“çš„å…³è”å…³ç³»ï¼‰\n\
      2. ä»Šå¤©å„ä¸ªåº—é“ºå‘å¸ƒäº†å¤šå°‘æ–°å“ \n3. ä»Šå¤©å„ä¸ªå‘å“å¹³å°å‘å¸ƒäº†å¤šå°‘æ–°å“\n4. ä»Šå¤©å„ä¸ªæ¥æºå¹³å°å„æœ‰å¤šå°‘æ–°å“\n5. æœ¬å‘¨ä»(äººã€æ¥æºå¹³å°ã€å‘å“åº—é“º)è§†è§’çš„å‘å“é‡ç»Ÿè®¡\n\
      6. æŸ¥è¯¢æ–°å“1601428254330çš„è¯¦æƒ… or æŸ¥è¯¢ä¸‹åˆ—æ–°å“çš„è¯¦æƒ…ï¼š1601428264271ã€1601428219464\n\n\n\n"
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - è¿‘ä¸¤å¤©çš„å‘å“è®°å½•
    - ä»Šå¤©ä»(äººã€æ¥æºå¹³å°ã€å‘å“åº—é“º)è§†è§’çš„å‘å“é‡ç»Ÿè®¡
    - æŸ¥è¯¢ä¸‹åˆ—æ–°å“çš„è¯¦æƒ…ï¼š1601428264271ã€1601428219464
    - 'ä»Šå¤©å„ä¸ªåº—é“ºå‘å¸ƒäº†å¤šå°‘æ–°å“ '
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: llm
        targetType: tool
      id: 1745214011639-source-1745208791618-target
      source: '1745214011639'
      sourceHandle: source
      target: '1745208791618'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1745214505870-source-answer-target
      source: '1745214505870'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: llm
      id: 1745208032494-source-1745214011639-target
      source: '1745208032494'
      sourceHandle: source
      target: '1745214011639'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: question-classifier
      id: 1745208791618-source-1745222803845-target
      source: '1745208791618'
      sourceHandle: source
      target: '1745222803845'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1745222803845-1-1745214505870-target
      source: '1745222803845'
      sourceHandle: '1'
      target: '1745214505870'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1745222803845-2-17452246727900-target
      source: '1745222803845'
      sourceHandle: '2'
      target: '17452246727900'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 17452246727900-source-17452263343660-target
      source: '17452246727900'
      sourceHandle: source
      target: '17452263343660'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1745222803845-1745222969797-17452284721920-target
      source: '1745222803845'
      sourceHandle: '1745222969797'
      target: '17452284721920'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 17452284721920-source-1745228641064-target
      source: '17452284721920'
      sourceHandle: source
      target: '1745228641064'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1745222803845-1745223021707-17452304144140-target
      source: '1745222803845'
      sourceHandle: '1745223021707'
      target: '17452304144140'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 17452304144140-source-1745223053161-target
      source: '17452304144140'
      sourceHandle: source
      target: '1745223053161'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1745222803845-1745234681259-17453367248610-target
      source: '1745222803845'
      sourceHandle: '1745234681259'
      target: '17453367248610'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 17453367248610-source-1745336787332-target
      source: '17453367248610'
      sourceHandle: source
      target: '1745336787332'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1745222803845-1745336708104-17453376002030-target
      source: '1745222803845'
      sourceHandle: '1745336708104'
      target: '17453376002030'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 17453376002030-source-1745337643523-target
      source: '17453376002030'
      sourceHandle: source
      target: '1745337643523'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 53
      id: '1745208032494'
      position:
        x: -893.4392676526368
        y: 484.31005755078985
      positionAbsolute:
        x: -893.4392676526368
        y: 484.31005755078985
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1745214505870.result#}}'
        desc: ''
        selected: false
        title: å‘å“è®°å½•
        type: answer
        variables: []
      height: 103
      id: answer
      position:
        x: 895.362377424356
        y: 203.21494922705483
      positionAbsolute:
        x: 895.362377424356
        y: 203.21494922705483
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The SQL query string.
            ja_JP: The SQL query string.
            pt_BR: The SQL query string.
            zh_Hans: SQL æŸ¥è¯¢è¯­å¥ã€‚
          label:
            en_US: SQL Query
            ja_JP: SQL Query
            pt_BR: SQL Query
            zh_Hans: SQL æŸ¥è¯¢è¯­å¥
          llm_description: The SQL query string.
          max: null
          min: null
          name: query
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Optional, Filling in this field will overwrite the database connection
              entered during authorization.
            ja_JP: Optional, Filling in this field will overwrite the database connection
              entered during authorization.
            pt_BR: Optional, Filling in this field will overwrite the database connection
              entered during authorization.
            zh_Hans: é€‰å¡«ï¼Œå¡«å†™åå°†è¦†ç›–æˆæƒæ—¶å¡«å†™çš„æ•°æ®åº“è¿æ¥ã€‚
          label:
            en_US: DB URI
            ja_JP: DB URI
            pt_BR: DB URI
            zh_Hans: DB URI
          llm_description: ''
          max: null
          min: null
          name: db_uri
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: json
          form: form
          human_description:
            en_US: Choose the output format.
            ja_JP: Choose the output format.
            pt_BR: Choose the output format.
            zh_Hans: é€‰æ‹©è¾“å‡ºæ ¼å¼ã€‚
          label:
            en_US: Output format
            ja_JP: Output format
            pt_BR: Output format
            zh_Hans: è¾“å‡ºæ ¼å¼
          llm_description: ''
          max: null
          min: null
          name: format
          options:
          - label:
              en_US: JSON
              ja_JP: JSON
              pt_BR: JSON
              zh_Hans: JSON
            value: json
          - label:
              en_US: CSV
              ja_JP: CSV
              pt_BR: CSV
              zh_Hans: CSV
            value: csv
          - label:
              en_US: YAML
              ja_JP: YAML
              pt_BR: YAML
              zh_Hans: YAML
            value: yaml
          - label:
              en_US: Markdown
              ja_JP: Markdown
              pt_BR: Markdown
              zh_Hans: Markdown
            value: md
          - label:
              en_US: Excel
              ja_JP: Excel
              pt_BR: Excel
              zh_Hans: Excel
            value: xlsx
          - label:
              en_US: HTML
              ja_JP: HTML
              pt_BR: HTML
              zh_Hans: HTML
            value: html
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: 'Optional. For example {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              More connection options can be found at https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
            ja_JP: 'Optional. For example {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              More connection options can be found at https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
            pt_BR: 'Optional. For example {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              More connection options can be found at https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
            zh_Hans: 'é€‰å¡«é¡¹ã€‚ä¾‹å¦‚ {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}

              æ›´å¤šè¿æ¥é€‰é¡¹å¯å‚è€ƒ https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine

              '
          label:
            en_US: DB Config Options
            ja_JP: DB Config Options
            pt_BR: DB Config Options
            zh_Hans: æ•°æ®åº“è¿æ¥é…ç½®é€‰é¡¹
          llm_description: ''
          max: null
          min: null
          name: config_options
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          config_options: ''
          db_uri: ''
          format: ''
          query: ''
        provider_id: hjlarry/database/database
        provider_name: hjlarry/database/database
        provider_type: builtin
        selected: false
        title: SQL Execute
        tool_configurations:
          config_options: null
          format: json
        tool_label: SQL Execute
        tool_name: sql_execute
        tool_parameters:
          db_uri:
            type: mixed
            value: ''
          query:
            type: mixed
            value: '{{#1745214011639.text#}}'
        type: tool
      height: 115
      id: '1745208791618'
      position:
        x: -272.8162764309288
        y: 484.31005755078985
      positionAbsolute:
        x: -272.8162764309288
        y: 484.31005755078985
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: deepseek-v3
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 21c5e41d-cc5d-48bc-bd1c-ba9e094ae103
          role: system
          text: "ä½ æ˜¯ä¸€åä¸“ä¸šçš„ SQL æŸ¥è¯¢åŠ©æ‰‹ï¼Œä¸“é—¨è´Ÿè´£å°†ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€è¾“å…¥è½¬æ¢ä¸ºç¬¦åˆ MySQL è¯­æ³•çš„ SELECT è¯­å¥ã€‚è¯·ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š\n\
            \n# æ•°æ®è¡¨ MetaData\n\n## æ•°æ®è¡¨ç»“æ„\n\ntradefree.publish_product_history è¡¨ç»“æ„ï¼ˆDLLï¼‰å¦‚ä¸‹ï¼š\n\
            \n```SQL\nCREATE TABLE `publish_product_history` (\n  `id` bigint(20)\
            \ NOT NULL AUTO_INCREMENT COMMENT 'primary key',\n  `product_id` varchar(512)\
            \ NOT NULL,\n  `reference_product` longtext,\n  `reference_product_platform`\
            \ varchar(64) DEFAULT NULL COMMENT 'amazon/ali/...',\n  `product_type`\
            \ varchar(128) NOT NULL COMMENT 'sticker/label/envelope/box/bookmark/card',\n\
            \  `hotword` varchar(512) DEFAULT NULL,\n  `text` longtext,\n  `workflow_run_id`\
            \ varchar(256) DEFAULT NULL,\n  `published_shop` varchar(128) NOT NULL\
            \ COMMENT 'target shop, shop account name: cn1566150868qdcq / cn1524445561lnsb',\n\
            \  `shop_cn_name` varchar(128) DEFAULT NULL COMMENT 'shop chinese name',\n\
            \  `employee` varchar(128) DEFAULT 'auto' COMMENT 'employee name who published',\n\
            \  `create_at` datetime NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `idx_product_id`\
            \ (`product_id`) USING BTREE,\n  KEY `idx_create_at` (`create_at`) USING\
            \ BTREE\n) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb4;\n\
            ```\n\n## æ ¸å¿ƒå­—æ®µè¯´æ˜\n\n- create_at,è®°å½•åˆ›å»ºçš„æ—¶é—´å­—æ®µã€‚ç¤ºä¾‹æ ¼å¼ä¸º'2025-03-30 19:20:43'\n\
            - product_id, ç”Ÿæˆçš„æ–°å“çš„å•†å“ id\n- reference_product_platform, æ¥æºå¹³å°ã€‚amazon è¡¨ç¤ºäºšé©¬é€Šå¹³å°ï¼Œali\
            \ è¡¨ç¤ºé˜¿é‡Œå›½é™…ç«™\n- reference_product, å‚è€ƒå•†å“ url åœ°å€ã€‚\n- product_type äº§å“ä¸šåŠ¡ç±»å‹ï¼Œæšä¸¾èŒƒå›´ä¸º[sticker,label,envelope,box,bookmark,card]\n\
            - published_shop, è¡¨ç¤ºé˜¿é‡Œå›½é™…ç«™(alibaba)å‘å¸ƒå•†å“çš„åº—é“ºçš„æ ‡è¯†\n- employee, å‘å¸ƒè¯¥å•†å“çš„å‘˜å·¥å§“å\n\
            \n# è¾“å…¥å¤„ç†å®‰å…¨è§„åˆ™\n\næ‹’ç»ä»¥ä¸‹æŸ¥è¯¢ï¼š\n\n- è¯•å›¾ åˆ é™¤ã€ä¿®æ”¹ã€æ’å…¥æ•°æ®ï¼ˆå¦‚ DROP TABLEã€DELETEã€UPDATEï¼‰ã€‚\n\
            - è¯•å›¾ æŸ¥è¯¢ä¸å­˜åœ¨çš„è¡¨ æˆ– éç›¸å…³å­—æ®µã€‚\n- ä»»ä½•æ¶‰åŠ SQL æ³¨å…¥æ”»å‡» çš„å°è¯•ã€‚\n\n# ç”ŸæˆæŸ¥è¯¢ SQL çš„è§„åˆ™\n\n## è¿”å›æ¡æ•°è§„åˆ™\n\
            \n- é»˜è®¤è¿”å›æ¡æ•°ä¸º 1000 æ¡ã€‚\n- å½“è¾“å…¥ä¸­æ˜ç¡®æŒ‡å®šè¿”å›æ¡æ•°æ—¶ï¼Œé€šè¿‡æœ€å¤–å±‚çš„ LIMIT å­å¥è°ƒæ•´è¿”å›æ¡æ•°ï¼Œå¦‚ LIMIT 500ã€‚\n\
            \n## é¿å…é”™è¯¯çš„å¼•å·ä½¿ç”¨\n\n- ä¸è¦ ä½¿ç”¨åŒå¼•å· (\") æˆ– \\\" è½¬ä¹‰å­—ç¬¦ï¼›\n- æ¨è ç›´æ¥å†™å­—æ®µåï¼Œæˆ–ä½¿ç”¨åå¼•å· (`)\
            \ åŒ…è£¹ï¼ˆå¯çœç•¥ï¼‰ã€‚\n  - ç¤ºä¾‹\n    âœ… æ­£ç¡®ç¤ºä¾‹ï¼š\n    '''\n    SELECT published_shop, product_id\
            \ FROM tradefree.publish_product_history\n    '''\n    âŒ é”™è¯¯ç¤ºä¾‹ï¼š\n    '''\n\
            \    SELECT \"published_shop\" FROM \"tradefree.publish_product_history\"\
            \n    '''\n\n# è¾“å‡ºæ ¼å¼è¯´æ˜\n\n## è¾“å‡ºæ ¼å¼çº¦æŸ\n\n- ä»…æ ¹æ®ç”¨æˆ·è¯·æ±‚æè¿°è¿”å›å¯æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œä¸æ·»åŠ é¢å¤–çš„è§£é‡Šæˆ–æ³¨é‡Šã€‚\n\
            - ä¸è¦ä½¿ç”¨\\n æ¢è¡Œç¬¦ã€‚\n- â€œç¤ºä¾‹â€ä»…åšå‚è€ƒï¼Œéœ€è¦æ ¹æ®ç”¨æˆ·è¾“å…¥é‡æ–°ç”Ÿæˆæ–°çš„ SQLã€‚\n\n## è¾“å‡ºæŒ‡æ ‡\n\n-\n- new_products_count\
            \ æ–°å“ä¸ªæ•°\n- reference_product_platform æ¥æºå¹³å°\n- public_product_platform å‘å“å¹³å°\n\
            \n# ç¤ºä¾‹ï¼ˆä»…åšå‚è€ƒï¼‰\n\n## ç”¨æˆ·è¯·æ±‚\n\nè·å–ç”¨æˆ· WANGHUI ä»Šå¤©çš„å‘å“è®°å½•\n\n## é¢„æœŸè¾“å‡º\n\nSELECT product_id,reference_product,reference_product_platform,product_type,published_shop,employee,create_at\
            \ FROM tradefree.publish_product_history WHERE employee=â€˜WANGHUIâ€™ AND\
            \ create_at>=CURDATE() AND create_at<DATE_ADD(CURDATE(),INTERVAL 1 DAY)\
            \ LIMIT 1000;\n"
        - id: 827bd915-c262-480b-ac9e-03ab5ad7ea1b
          role: user
          text: '{{#sys.query#}}'
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1745214011639'
      position:
        x: -578.1404037300997
        y: 484.31005755078985
      positionAbsolute:
        x: -578.1404037300997
        y: 484.31005755078985
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef generate_markdown(records):\n    \"\"\"\n    records:\
          \ list of dicts with keys:\n      - reference_product\n      - reference_product_platform\n\
          \      - ali_product_id\n    \"\"\"\n    lines = []\n    ind = 1\n    for\
          \ rec in records:\n        # skip anything that isn't a dict\n        if\
          \ not isinstance(rec, dict):\n            continue\n\n        ref = rec.get('reference_product',\
          \ '')\n        platform = rec.get('reference_product_platform', '').lower()\n\
          \        new_id = rec.get('product_id', '')\n        employee = rec.get('employee',\
          \ '')\n        shop = rec.get('published_shop', '')\n        create_at =\
          \ rec.get('create_at', '')\n\n        # Construct reference product URL\n\
          \        label_ref = f\"[{platform}å‚è€ƒå“]({ref})\"\n        \n        # Build\
          \ markdown labels\n        label_new = f\"ã€alibabaã€‘å¹³å°çš„åº—é“ºã€{shop}ã€‘ä¸­çš„æ–°å“ã€{new_id}ã€‘\"\
          \n\n        lines.append(f\"- {ind}ã€ã€{employee}ã€‘åœ¨ã€{create_at}ã€‘ä»ã€{label_ref}ã€‘å‘å¸ƒåˆ°\
          \ ã€{label_new}ã€‘\")\n        \n        ind = ind+1\n    return \"\\n\".join(lines)\n\
          \ndef main(records_input):\n    records_list = records_input[0]['result']\n\
          \    records = generate_markdown(records_list)\n    return {\n        \"\
          result\":records\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: true
        title: è§£æå‘å“è¯¦æƒ…
        type: code
        variables:
        - value_selector:
          - '1745208791618'
          - json
          variable: records_input
      height: 53
      id: '1745214505870'
      position:
        x: 502.4097785074441
        y: 203.21494922705483
      positionAbsolute:
        x: 502.4097785074441
        y: 203.21494922705483
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1'
          name: è·å–å‘å“è®°å½•
        - id: '2'
          name: è·å–äººå‘˜å‘å“é‡çš„ç»Ÿè®¡ä¿¡æ¯
        - id: '1745222969797'
          name: è·å–æ¥æºå¹³å°å‘å“é‡çš„ç»Ÿè®¡ä¿¡æ¯
        - id: '1745223021707'
          name: è·å–åº—é“ºå‘å“é‡çš„ç»Ÿè®¡ä¿¡æ¯
        - id: '1745234681259'
          name: è·å–(äººã€æ¥æºå¹³å°ã€å‘å“åº—é“º)çš„å‘å“é‡ä¿¡æ¯
        - id: '1745336708104'
          name: ä»æ–°å“ç¼–å·æŸ¥è¯¢æ¥æºå•†å“ä¿¡æ¯
        - id: '1745337587839'
          name: å…¶ä»–
        desc: ''
        instructions: ''
        model:
          completion_params:
            temperature: 0.2
          mode: chat
          name: deepseek-v3
          provider: langgenius/tongyi/tongyi
        query_variable_selector:
        - '1745208032494'
        - sys.query
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 377
      id: '1745222803845'
      position:
        x: 86.20719562323723
        y: 375.82239023463137
      positionAbsolute:
        x: 86.20719562323723
        y: 375.82239023463137
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1745222803845.class_name#}}ï¼š

          {{#17452304144140.result#}}'
        desc: ''
        selected: false
        title: åº—é“ºæ–°å“ç»Ÿè®¡
        type: answer
        variables: []
      height: 122
      id: '1745223053161'
      position:
        x: 895.362377424356
        y: 637.2282050163024
      positionAbsolute:
        x: 895.362377424356
        y: 637.2282050163024
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef generate_markdown(records):\n    \"\"\"\n    records:\
          \ list of dicts with keys:\n      - reference_product\n      - reference_product_platform\n\
          \      - ali_product_id\n    \"\"\"\n    lines = []\n    ind = 1\n    for\
          \ rec in records:\n        # skip anything that isn't a dict\n        if\
          \ not isinstance(rec, dict):\n            continue\n\n        new_products_count\
          \ = rec.get('new_products_count', '')\n        employee = rec.get('employee',\
          \ '')\n\n        \n\n        lines.append(f\"- {ind}ã€{employee} --> [{new_products_count}]\"\
          )\n        ind = ind+1\n    return \"\\n\".join(lines)\n\ndef main(records_input):\n\
          \    records_list = records_input[0]['result']\n    records = generate_markdown(records_list)\n\
          \    return {\n        \"result\":records\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: äººå‘˜å‘å“é‡ç»Ÿè®¡
        type: code
        variables:
        - value_selector:
          - '1745208791618'
          - json
          variable: records_input
      height: 53
      id: '17452246727900'
      position:
        x: 502.4097785074441
        y: 344.4590657242469
      positionAbsolute:
        x: 502.4097785074441
        y: 344.4590657242469
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1745222803845.class_name#}}ï¼š

          {{#17452246727900.result#}}'
        desc: ''
        selected: false
        title: äººå‘˜å‘å“ç»Ÿè®¡
        type: answer
        variables: []
      height: 122
      id: '17452263343660'
      position:
        x: 895.362377424356
        y: 344.4590657242469
      positionAbsolute:
        x: 895.362377424356
        y: 344.4590657242469
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef generate_markdown(records):\n    \"\"\"\n    records:\
          \ list of dicts with keys:\n      - reference_product\n      - reference_product_platform\n\
          \      - ali_product_id\n    \"\"\"\n    lines = []\n    ind = 1\n    for\
          \ rec in records:\n        # skip anything that isn't a dict\n        if\
          \ not isinstance(rec, dict):\n            continue\n\n        new_products_count\
          \ = rec.get('new_products_count', '')\n        reference_product_platform\
          \ = rec.get('reference_product_platform', '')\n\n        \n\n        lines.append(f\"\
          - {ind}ã€{reference_product_platform} --> [{new_products_count}]\")\n   \
          \     ind = ind+1\n    return \"\\n\".join(lines)\n\ndef main(records_input):\n\
          \    records_list = records_input[0]['result']\n    records = generate_markdown(records_list)\n\
          \    return {\n        \"result\":records\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ¥æºå¹³å°æ–°å“é‡ç»Ÿè®¡
        type: code
        variables:
        - value_selector:
          - '1745208791618'
          - json
          variable: records_input
      height: 53
      id: '17452284721920'
      position:
        x: 502.4097785074441
        y: 492.3026177919959
      positionAbsolute:
        x: 502.4097785074441
        y: 492.3026177919959
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1745222803845.class_name#}}ï¼š

          {{#17452284721920.result#}}'
        desc: ''
        selected: false
        title: æ¥æºå¹³å°æ–°å“ç»Ÿè®¡
        type: answer
        variables: []
      height: 122
      id: '1745228641064'
      position:
        x: 895.362377424356
        y: 492.3026177919959
      positionAbsolute:
        x: 895.362377424356
        y: 492.3026177919959
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef generate_markdown(records):\n    \"\"\"\n    records:\
          \ list of dicts with keys:\n      - reference_product\n      - reference_product_platform\n\
          \      - ali_product_id\n    \"\"\"\n    lines = []\n    ind = 1\n    for\
          \ rec in records:\n        # skip anything that isn't a dict\n        if\
          \ not isinstance(rec, dict):\n            continue\n\n        new_products_count\
          \ = rec.get('new_products_count', '')\n        published_shop = rec.get('published_shop',\
          \ '')\n\n        \n\n        lines.append(f\"- {ind}ã€{published_shop} -->\
          \ [{new_products_count}]\")\n        ind = ind+1\n    return \"\\n\".join(lines)\n\
          \ndef main(records_input):\n    records_list = records_input[0]['result']\n\
          \    records = generate_markdown(records_list)\n    return {\n        \"\
          result\":records\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: åº—é“ºæ–°å“é‡ç»Ÿè®¡
        type: code
        variables:
        - value_selector:
          - '1745208791618'
          - json
          variable: records_input
      height: 53
      id: '17452304144140'
      position:
        x: 502.4097785074441
        y: 637.2282050163024
      positionAbsolute:
        x: 502.4097785074441
        y: 637.2282050163024
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef generate_markdown(records):\n    \"\"\"\n    records:\
          \ list of dicts with keys:\n      - reference_product\n      - reference_product_platform\n\
          \      - ali_product_id\n    \"\"\"\n    lines = []\n    ind = 1\n    for\
          \ rec in records:\n        # skip anything that isn't a dict\n        if\
          \ not isinstance(rec, dict):\n            continue\n\n        employee =\
          \ rec.get('employee', '')\n        reference_product_platform = rec.get('reference_product_platform',\
          \ '')\n        new_products_count = rec.get('new_products_count', '')\n\
          \        published_shop = rec.get('published_shop', '')\n\n        lines.append(f\"\
          - {ind}ã€{employee} -- {reference_product_platform} -- {published_shop} -->\
          \ [{new_products_count}]\")\n        ind = ind+1\n    return \"\\n\".join(lines)\n\
          \ndef main(records_input):\n    records_list = records_input[0]['result']\n\
          \    records = generate_markdown(records_list)\n    return {\n        \"\
          result\":records\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: äºº_æ¥æºå¹³å°_å‘å“åº—é“ºæ–°å“é‡ç»Ÿè®¡
        type: code
        variables:
        - value_selector:
          - '1745208791618'
          - json
          variable: records_input
      height: 53
      id: '17453367248610'
      position:
        x: 502.4097785074441
        y: 779.5549207628845
      positionAbsolute:
        x: 502.4097785074441
        y: 779.5549207628845
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1745222803845.class_name#}}:

          {{#17453367248610.result#}}'
        desc: ''
        selected: false
        title: äºº_æ¥æº_å‘å¸ƒç»Ÿè®¡
        type: answer
        variables: []
      height: 122
      id: '1745336787332'
      position:
        x: 895.362377424356
        y: 779.5549207628845
      positionAbsolute:
        x: 895.362377424356
        y: 779.5549207628845
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef generate_markdown(records):\n    \"\"\"\n    records:\
          \ list of dicts with keys:\n      - reference_product\n      - reference_product_platform\n\
          \      - ali_product_id\n    \"\"\"\n    lines = []\n    ind = 1\n    for\
          \ rec in records:\n        # skip anything that isn't a dict\n        if\
          \ not isinstance(rec, dict):\n            continue\n\n        ref = rec.get('reference_product',\
          \ '')\n        platform = rec.get('reference_product_platform', '').lower()\n\
          \        new_id = rec.get('product_id', '')\n        employee = rec.get('employee',\
          \ '')\n        shop = rec.get('published_shop', '')\n        create_at =\
          \ rec.get('create_at', '')\n\n        # Construct reference product URL\n\
          \        label_ref = f\"[{platform}å‚è€ƒå“]({ref})\"\n        \n        # Build\
          \ markdown labels\n        label_new = f\"ã€alibabaã€‘å¹³å°çš„åº—é“ºã€{shop}ã€‘ä¸­çš„æ–°å“ã€{new_id}ã€‘\"\
          \n\n        lines.append(f\"- {ind}ã€ã€{employee}ã€‘åœ¨ã€{create_at}ã€‘ä»ã€{label_ref}ã€‘å‘å¸ƒåˆ°\
          \ ã€{label_new}ã€‘\")\n        ind = ind+1\n    return \"\\n\".join(lines)\n\
          \ndef main(records_input):\n    records_list = records_input[0]['result']\n\
          \    records = generate_markdown(records_list)\n    return {\n        \"\
          result\":records\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»å‘å¸ƒå•†å“æŸ¥æ¥æº
        type: code
        variables:
        - value_selector:
          - '1745208791618'
          - json
          variable: records_input
      height: 53
      id: '17453376002030'
      position:
        x: 502.4097785074441
        y: 923.1823017328534
      positionAbsolute:
        x: 502.4097785074441
        y: 923.1823017328534
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1745222803845.class_name#}}ï¼š

          {{#17453376002030.result#}}'
        desc: ''
        selected: false
        title: å‘å¸ƒå•†å“idæŸ¥æ¥æº
        type: answer
        variables: []
      height: 122
      id: '1745337643523'
      position:
        x: 895.362377424356
        y: 923.1823017328534
      positionAbsolute:
        x: 895.362377424356
        y: 923.1823017328534
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 225.36070650902911
      y: -0.8933841619031568
      zoom: 0.8203697452599205
